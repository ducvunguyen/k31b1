<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="public/plugins/bootstrap/css/bootstrap.min.css">
	<style type="text/css" media="screen">
		.product-list{
			margin-top: 40px;
		}
	</style>
</head>
<body>
<div class="cotainer clearfix">
	<fieldset class="col-md-6">
		<legend>Add product</legend>
		<div class="form-group">
			<label>Product Name</label>
			<input type="text" name="name" value="" placeholder="Name" class="form-control">
		</div>
		<div class="form-group">
			<label>Product Image</label>
			<input type="text" name="image" value="" placeholder="Image" class="form-control">
		</div>
		<div class="form-group">
			<label>Product SKU</label>
			<input type="text" name="sku" value="" placeholder="SKU" class="form-control">
		</div>
		<div class="form-group">
			<label>Product Price</label>
			<input type="text" name="price" value="" placeholder="price" class="form-control">
		</div>
		<div class="text-center">
			<button class="btn btn-success btn-save">Save</button>
			<button class="btn btn-info btn-add-more">Add Attribute</button>
		</div>
	</fieldset>
	<fieldset class="col-md-6">
		<legend>Product Attributes</legend>
		<table class="table">
			<thead>
				<tr>
					<th>Attribute Name</th>
					<th>Attribute Value</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				
			</tbody>
		</table>
	</fieldset>
</div>

<div class="container product-list ">
	
	<div class="row clearfix">
		<div class="col-md-4 product-image">
			<img src="https://www.cstatic-images.com/stock/570x380/15/img-1276321340-1509471668915.jpg" alt="" class="img-thumbnail">
		</div>
		<div class="col-md-8 product-info">
			<h2>Toyota camry</h2>
			<h2>Price: <small>10000$</small></h2>
			<p>SKU: <strong>12345</strong></p>
			<p>
				<strong>Attr1: </strong> <span>attr1 value</span>
			</p>
			<p>
				<strong>Attr1: </strong> <span>attr1 value</span>
			</p>
			<p>
				<strong>Attr1: </strong> <span>attr1 value</span>
			</p>
			<p>
				<strong>Attr1: </strong> <span>attr1 value</span>
			</p>
		</div>		
	</div>	
</div>
	


	<script src="public/plugins/jquery/jquery.min.js"></script>
	<script>
		//1 viet su kien click cho the button
		$('.btn-add-more').click(function(){
			
			var tr = `<tr>
				<td>
					<input type="text" name="attr[]" value="" placeholder="Attribute name" class="form-control">
				</td>
				<td>
					<input type="text" name="attrValue[]" value="" placeholder="Attribute value" class="form-control">
				</td>
				<td class="text-center">
					<button class="btn btn-sm btn-danger" onclick="removeAttr(this)">
						<span class="glyphicon glyphicon-remove"></span>
					</button>
				</td>
			</tr>`;
			$('tbody').append(tr);
		});

		// .parent()
		function removeAttr(btn){
			$(btn).parent().parent().remove();
		};
		$('.btn-save').click(function(){
			var pName = $('[name=name]').val();
			var pImage = $('[name=image]').val();
			var pSKU = $('[name=sku]').val();
			var pPrice = $('[name=price]').val();

			var newProduct = `<div class="row clearfix">	
								<div class="col-md-4 product-image">
									<img src="${pImage}" alt="" class="img-thumbnail">
								</div>
								<div class="col-md-8 product-info">
									<h2>${pName}</h2>
									<h2>Price: <small>${pPrice}$</small></h2>
									<p>SKU: <strong>${pSKU}</strong></p>
									`;
			var trs = $('tbody').find('tr');
			console.log(trs);
			for (var i = 0; i < trs.length; i++) {
				var inputs = $(trs[i]).find('input');
				var attr = $(inputs[0]).val();
				var attrValue = $(inputs[1]).val();
				newProduct += `	<p>
									<strong>${attr}: </strong> <span>${attrValue}</span>
								</p>`;
			}
									
			newProduct+=	`	</div>
							</div>
							`;
			$('.product-list').append(newProduct);
		});
	</script>
</body>
</html>


<!-- <p>
	<strong>Attr1: </strong> <span>attr1 value</span>
</p>
<p>
	<strong>Attr1: </strong> <span>attr1 value</span>
</p>
<p>
	<strong>Attr1: </strong> <span>attr1 value</span>
</p>
<p>
	<strong>Attr1: </strong> <span>attr1 value</span>
</p> -->